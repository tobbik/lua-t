Small payloads (.15kBytes)
==========================

Hardware is the RaspberryPi 4 (4GB) runs ``wrk`` and the servers are running on
a NUC with an AMD A5000 APU(8GB).

To start the curl command sets a user into the user table like this.

.. code:: bash

  /usr/bin/curl -i "http://pi64-master:10000/newUser?username=mickey&password=goofey"


Legend
------

All values are pretty self explanatory and standard for HTTP load testing.
The only unusual value is ``perc averg``.  It stands for how many percent of
the request returned in lest than the average latency for the whole run.


lua-t (keep-alive)
------------------

Memory consumption:

.. code::

  [tobias@progress http]$ ps aux | grep s_t
  USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
  tobias      1494 44.8  0.0   7560  5288 pts/1    S+   18:06   2:48 ../out/bin/lua s_t.lua 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 50930    7858.34    9986.81   1540.93    0.72   25.19   4.75    1.52    4.21   4.27   4.39    5.91    11.48   24.76   0.15   5.10  0      0      0      0      0      80   
1     41212    6358.88    2050.33   316.36     0.30   1.08    0.46    0.09    0.42   0.44   0.47    0.51    0.86    1.05    0.15   20.10 0      0      0      0      0      70   
5     205903   31770.19   10243.95  1580.61    0.24   7.62    0.37    0.13    0.35   0.36   0.39    0.41    0.49    6.18    0.15   20.10 0      0      0      0      0      60   
10    212841   32840.70   10589.34  1633.90    0.27   4.34    0.74    0.25    0.49   0.89   0.94    1.03    1.09    2.79    0.15   20.10 0      0      0      0      0      46   
50    212559   32797.19   10621.88  1638.92    0.65   16.23   4.50    1.06    4.20   4.22   4.28    4.36    8.56    12.83   0.15   20.01 0      0      0      0      0      93   
100   210049   32409.90   10495.43  1619.41    1.26   233.19  9.51    1.98    9.25   9.30   9.33    9.36    18.60   33.06   0.15   20.01 0      0      0      0      0      95   
200   208491   32169.51   10414.41  1606.91    1.87   49.10   19.16   2.16    18.87  18.90  18.97   19.08   37.73   48.50   0.15   20.02 0      0      0      0      0      92   
500   182947   28228.15   9104.90   1404.86    6.36   150.32  54.60   2.91    54.47  54.61  54.80   54.96   55.24   149.61  0.15   20.09 0      0      0      0      0      49   
800   182720   28193.13   9111.08   1405.81    9.72   460.51  86.94   6.71    86.96  87.07  87.27   87.48   87.94   308.71  0.15   20.05 0      0      0      0      0      27   
1000  180092   27787.63   8966.16   1383.45    13.69  431.29  109.13  14.14   110.26 110.45 110.77  111.10  111.70  428.82  0.15   20.09 0      0      0      0      0      10   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====


nodejs
------

Memory consumption:

.. code::

  [tobias@progress http]$ ps aux | grep s_node
  USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
  tobias      1565 46.6  1.0 620108 80592 pts/1    Sl+  18:13   2:53 node s_node.js 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 24759    3833.57    4855.00   751.73     1.39   286.93  15.09   28.77   6.92   7.46   10.73   20.09   193.34  266.33  0.15   5.10  0      0      0      0      0      84   
1     41540    6450.06    2066.63   320.89     0.32   11.89   0.47    0.29    0.44   0.45   0.48    0.49    0.78    10.26   0.16   20.10 0      0      0      0      0      68   
5     115455   18006.98   5744.42   895.93     0.29   19.65   0.68    0.40    0.49   0.50   1.00    1.01    1.38    17.19   0.16   20.10 0      0      0      0      0      64   
10    137836   21536.88   6857.97   1071.56    0.28   10.49   1.15    0.45    0.83   0.86   1.67    1.71    2.26    8.15    0.16   20.10 0      0      0      0      0      66   
50    132878   20762.19   6639.67   1037.45    3.65   28.08   7.21    1.22    6.71   6.74   7.33    8.11    13.71   17.55   0.16   20.01 0      0      0      0      0      71   
100   134102   20953.44   6701.71   1047.14    11.77  33.48   14.89   0.78    14.58  14.63  15.07   15.42   17.59   32.38   0.16   20.01 0      0      0      0      0      68   
200   132408   20688.75   6615.56   1033.68    5.80   108.60  30.23   3.12    29.40  29.68  30.36   30.99   37.07   107.98  0.16   20.01 0      0      0      0      0      69   
500   123127   19238.59   6138.36   959.12     74.78  387.77  81.54   10.59   78.30  78.71  80.02   92.64   104.24  239.32  0.16   20.06 0      0      0      0      0      82   
800   123395   19280.47   6145.41   960.22     21.89  265.50  128.53  8.32    127.96 128.54 130.10  130.65  132.93  264.37  0.16   20.08 0      0      0      0      0      49   
1000  122371   19207.93   6105.39   958.33     71.83  591.11  161.94  9.94    158.49 159.15 160.97  168.95  191.00  393.74  0.16   20.04 0      0      0      0      0      83   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====


go
--

Memory consumption:

.. code::

  [tobias@progress http]$ ps aux | grep s_go
  USER         PID %CPU %MEM     VSZ   RSS TTY     STAT START   TIME COMMAND
  tobias      1651  126  0.1 1449048 31276 pts/1   Sl+  18:19   5:20 ./s_go 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 162503   23804.15   31868.00  4668.16    0.19   21.19   1.51    0.96    1.02   1.35   2.00    2.40    4.52    18.74   0.15   5.10  0      0      0      0      0      58   
1     43240    6333.98    2151.22   315.12     0.33   8.55    0.44    0.11    0.42   0.43   0.45    0.47    0.52    6.69    0.15   20.10 0      0      0      0      0      63   
5     241220   35334.96   12001.31  1758.00    0.19   17.38   0.32    0.30    0.29   0.30   0.33    0.36    0.46    14.88   0.15   20.10 0      0      0      0      0      69   
10    470935   68984.62   23430.37  3432.18    0.18   15.91   0.33    0.26    0.28   0.30   0.35    0.41    0.80    10.38   0.15   20.10 0      0      0      0      0      67   
50    634745   92980.22   31582.21  4626.30    0.19   29.28   1.56    1.13    1.03   1.37   2.02    2.45    5.31    21.91   0.15   20.10 0      0      0      0      0      58   
100   610586   89441.31   30379.00  4450.05    0.19   214.92  3.39    2.53    2.13   2.98   4.55    5.54    11.25   33.03   0.15   20.10 0      0      0      0      0      56   
200   576700   84477.54   28693.07  4203.09    0.19   55.83   7.15    4.31    4.82   6.60   9.00    11.95   22.45   43.95   0.15   20.10 0      0      0      0      0      56   
500   554820   81272.46   27660.26  4051.80    0.20   144.75  18.55   11.11   13.64  16.64  21.19   29.71   62.42   114.28  0.15   20.06 0      0      0      0      0      62   
800   538684   78908.79   26879.67  3937.45    0.20   236.56  30.62   19.18   23.00  26.71  34.65   48.46   110.02  206.10  0.15   20.04 0      0      0      0      0      65   
1000  536035   78520.75   26736.06  3916.41    0.21   303.59  39.44   29.17   28.66  32.62  42.90   60.66   184.14  266.20  0.15   20.05 0      0      0      0      0      69   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====


Results for single connections
==============================


lua-t
-----

Memory consumption:

.. code::

  [tobias@progress http]$ ps aux | grep s_t
  USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
  tobias      1694 42.1  0.0   8472  6140 pts/1    R+   18:32   2:17 ../out/bin/lua s_t.lua 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 28022    4186.88    5495.22   821.06     1.22   16.36   8.10    1.14    7.95   8.08   8.36    8.69    11.67   16.32   0.15   5.10  0      0      0      0      0      51   
1     15486    2313.83    774.16    115.67     0.46   2.94    0.77    0.09    0.75   0.78   0.81    0.86    1.07    1.98    0.15   20.00 0      0      0      0      0      47   
5     57158    8540.21    2856.29   426.77     0.36   7.35    0.94    0.23    0.90   0.98   1.06    1.14    1.31    7.03    0.15   20.01 0      0      0      0      0      40   
10    21216    3169.97    1056.45   157.85     0.38   35.01   2.84    4.55    0.99   1.15   2.27    4.00    18.65   28.47   0.15   20.08 0      0      0      0      0      89   
50    111466   16654.59   5545.52   828.58     0.46   21.15   8.08    0.73    7.91   8.04   8.30    8.62    9.26    18.11   0.15   20.10 0      0      0      0      0      55   
100   78665    11753.66   3894.74   581.93     0.45   226.95  21.70   17.72   17.00  17.47  18.15   31.35   109.89  191.76  0.15   20.20 0      0      0      0      0      85   
200   107619   16079.79   5361.94   801.15     3.83   61.69   36.01   3.64    35.42  36.21  37.24   38.07   47.97   59.69   0.15   20.07 0      0      0      0      0      45   
500   102118   15257.87   5081.69   759.28     1.11   289.04  89.73   21.04   94.02  95.38  96.20   97.75   152.67  277.79  0.15   20.10 0      0      0      0      0      20   
800   101916   15227.68   5079.33   758.92     8.95   280.33  154.79  6.57    154.46 155.19 156.31  157.39  161.95  185.68  0.15   20.06 0      0      0      0      0      39   
1000  100618   15033.74   5005.45   747.89     22.41  540.82  190.57  28.50   195.14 196.01 196.75  197.30  262.35  534.41  0.15   20.10 0      0      0      0      0      17   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====


node-js
-------

Memory consumption:

.. code::

  [tobias@progress http]$ ps aux | grep s_node
  USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
  tobias      1717 17.7  1.0 615728 76204 pts/1    Sl+  18:38   1:07 node s_node.js 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 8604     1284.48    1672.31   249.66     0.54   161.75  26.49   16.66   17.42  19.93  30.43   40.53   99.44   161.75  0.15   5.14  0      0      0      0      0      65   
1     6154     924.14     306.34    46.00      0.53   12.20   0.87    0.49    0.79   0.82   0.86    0.91    1.66    12.20   0.15   20.09 0      0      0      0      0      79   
5     4942     743.23     246.09    37.01      0.36   4.49    1.73    0.63    1.41   1.67   2.16    2.57    3.25    4.49    0.15   20.08 0      0      0      0      0      53   
10    16363    2460.84    814.58    122.50     0.44   29.61   3.69    4.89    1.83   1.98   2.23    16.23   19.13   29.48   0.15   20.09 0      0      0      0      0      86   
50    6897     1037.24    341.01    51.28      0.58   282.42  68.26   57.50   22.34  52.21  110.12  158.76  198.54  282.42  0.15   20.23 0      0      0      0      0      57   
100   17305    2602.51    849.17    127.71     0.62   420.34  77.52   82.93   31.36  33.26  96.95   214.62  352.60  417.56  0.15   20.38 0      0      0      0      0      73   
200   9008     1354.72    437.31    65.77      0.76   741.40  230.35  161.95  103.41 195.55 351.53  468.76  616.63  741.40  0.15   20.60 0      0      0      0      0      55   
500   20663    3107.52    1001.99   150.69     1.03   1289.16 301.23  232.08  168.16 178.83 390.31  696.06  999.14  1268.58 0.15   20.62 0      0      0      0      0      71   
800   15666    2361.54    753.35    113.56     1.17   1527.69 504.10  332.03  271.36 459.11 756.83  987.11  1249.74 1527.42 0.15   20.80 0      0      0      0      0      54   
1000  23239    3517.62    1094.57   165.68     1.44   1999.42 543.02  382.50  345.96 356.57 717.68  1180.10 1688.61 1993.68 0.15   21.23 0      0      0      25     0      69   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====


go
--

Memory consumption:

.. code::

  [tobias@progress http]$ ps aux | grep s_go
  USER         PID %CPU %MEM     VSZ   RSS TTY     STAT START   TIME COMMAND
  tobias      1747 56.1  0.4 1449048 31048 pts/1   Sl+  18:45   3:23 ./s_go 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 42416    7000.30    8455.43   1395.48    0.49   14.70   3.03    1.30    2.28   2.64   3.38    4.98    7.53    13.31   0.17   5.02  0      0      0      0      0      68   
1     15816    2610.26    790.75    130.51     0.44   10.67   0.71    0.21    0.65   0.72   0.77    0.80    0.86    10.22   0.17   20.00 0      0      0      0      0      47   
5     25515    4210.97    1268.60   209.37     0.32   24.26   0.63    0.38    0.51   0.56   0.66    0.84    1.45    16.38   0.17   20.11 0      0      0      0      0      70   
10    29378    4848.52    1461.49   241.20     0.28   36.23   2.22    4.32    0.58   0.72   1.09    8.69    18.43   35.87   0.17   20.10 0      0      0      0      0      88   
50    46417    7660.62    2297.33   379.15     0.27   256.74  19.91   36.34   2.44   3.02   10.48   73.72   160.35  233.45  0.17   20.20 0      0      0      0      0      76   
100   98094    16189.34   4849.82   800.41     0.41   337.20  19.62   38.60   5.06   6.26   8.72    55.83   197.76  315.68  0.17   20.23 0      0      0      0      0      83   
200   99583    16435.08   4899.07   808.54     0.29   365.22  21.22   33.28   7.26   9.09   17.00   53.34   175.57  329.42  0.17   20.33 0      0      0      0      0      78   
500   141461   23346.59   7031.81   1160.52    0.67   739.93  21.62   27.48   9.10   11.35  19.95   51.85   139.40  307.34  0.17   20.12 0      0      0      10     0      76   
800   139460   23016.35   6949.41   1146.92    0.83   850.21  37.53   46.25   11.79  17.66  51.50   86.22   248.59  656.87  0.17   20.07 0      0      0      35     0      67   
1000  155570   25675.13   7735.01   1276.58    0.97   1781.58 34.05   52.92   11.86  15.19  38.70   74.55   286.25  1082.09 0.17   20.11 0      0      0      137    0      72   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====

