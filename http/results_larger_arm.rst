Larger payloads (61 kBytes)
==========================

Hardware is the NUC with the A5000 APU runs ``wrk`` and RaspberryPi 4 (4GB)
runs the servers.  Please observe that in some cases the transfer rate
approaches 114000 kBytes per second which could be limited by the Gigabit
Ethernet hardware connection.  It does not invalidate the results as it shows
how the software reacts near the hardware limitation.

Legend
------

All values are pretty self explanatory and standard for HTTP load testing.
The only unusual value is ``perc averg``.  It stands for how many percent of
the request returned in lest than the average latency for the whole run.


lua-t (keep-alive)
------------------

Memory consumption:

.. code::

  [alarm@pi64-master http]$ ps aux | grep s_t
  USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
  alarm       2686 40.4  0.1   8152  5752 pts/2    S+   23:07   2:30 ../out/bin/lua s_t.lua 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 8716     537175.79  1709.33   105347.57  8.15   73.10   27.21   8.37    23.64  24.97  26.60   39.96   59.47   73.10   61.63  5.10  0      0      0      0      0      82   
1     13063    804997.45  653.01    40241.08   1.10   7.97    1.43    0.21    1.28   1.32   1.63    1.72    1.82    6.44    61.62  20.00 0      0      0      0      0      65   
5     36464    2247082.43 1816.28   111927.93  1.10   17.21   2.30    2.09    1.55   1.57   2.08    3.53    12.78   16.74   61.62  20.08 0      0      0      0      0      80   
10    37267    2296722.07 1855.59   114357.82  1.08   242.67  9.69    20.99   1.67   2.40   5.55    24.51   111.24  221.73  61.63  20.08 0      0      0      0      0      79   
50    33044    2036349.48 1644.62   101350.51  4.02   142.15  28.79   7.25    26.75  27.30  28.03   30.00   55.85   120.60  61.63  20.09 0      0      0      0      0      86   
100   37308    2301071.38 1856.23   114488.02  1.37   1483.70 79.92   135.62  17.63  46.68  68.65   137.46  715.74  1322.05 61.68  20.10 0      0      0      0      0      85   
200   32330    1998290.40 1615.02   99822.94   5.68   976.32  126.01  100.54  41.43  71.80  211.03  239.36  444.51  839.24  61.81  20.02 0      0      0      0      0      56   
500   28011    1735890.58 1394.05   86391.88   14.04  1999.23 353.74  300.92  134.67 251.54 467.91  735.91  1510.79 1996.23 61.97  20.09 0      0      0      283    0      61   
800   26701    1666116.44 1328.61   82904.21   16.59  1999.40 448.52  369.12  161.15 348.35 630.38  992.16  1711.81 1998.88 62.40  20.10 0      0      0      1014   0      63   
1000  25737    1610524.61 1281.09   80165.92   22.06  1999.83 470.27  384.36  186.14 357.84 629.31  1053.44 1784.65 1994.43 62.58  20.09 0      0      0      1415   0      64   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====


nodejs
------

Memory consumption:

.. code::

  [alarm@pi64-master http]$ ps aux | grep s_node
  USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
  alarm       2714 54.4  2.3 630212 92644 pts/2    Sl+  23:14   3:06 node s_node.js 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 5331     328517.67  1064.64   65607.27   27.47  126.89  44.85   12.11   36.41  41.99  52.51   58.65   92.92   126.89  61.62  5.01  0      0      0      0      0      60   
1     12162    749475.62  607.97    37465.66   1.29   10.10   1.55    0.29    1.51   1.52   1.54    1.57    2.08    9.76    61.62  20.00 0      0      0      0      0      79   
5     30354    1870620.45 1515.48   93394.45   1.24   10.24   2.49    0.65    2.40   2.44   2.50    2.75    5.44    7.25    61.63  20.03 0      0      0      0      0      70   
10    26039    1604630.77 1299.81   80099.65   1.71   20.78   6.02    2.31    3.96   6.29   6.64    8.18    13.03   15.07   61.62  20.03 0      0      0      0      0      41   
50    22695    1398606.70 1132.93   69818.11   9.32   94.46   42.22   9.72    43.91  44.66  45.70   46.69   89.48   93.61   61.63  20.03 0      0      0      0      0      23   
100   24822    1529672.52 1238.55   76326.64   28.20  199.38  80.48   18.42   64.70  91.42  95.56   96.18   121.25  196.47  61.63  20.04 0      0      0      0      0      49   
200   23036    1419583.73 1149.40   70831.40   33.14  609.44  173.12  32.97   153.78 161.05 193.80  219.50  269.95  608.17  61.62  20.04 0      0      0      0      0      63   
500   22307    1374763.04 1110.73   68453.29   28.63  1071.67 442.30  79.68   395.93 423.91 489.13  547.09  648.37  1051.75 61.63  20.08 0      0      0      0      0      59   
800   14471    906007.92  720.41    45104.06   11.45  1694.65 627.45  215.69  606.65 665.12 738.33  808.14  1252.72 1642.03 62.61  20.09 0      665    0      665    0      39   
1000  15286    944398.63  762.43    47104.55   1.28   1999.23 623.58  406.34  315.67 643.96 967.64  1060.88 1552.46 1981.41 61.78  20.05 0      927    0      1194   0      48   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====


go
--

Memory consumption:

.. code::

  [alarm@pi64-master http]$ ps aux | grep s_go
  USER         PID %CPU %MEM     VSZ   RSS TTY     STAT START   TIME COMMAND
  alarm       2838 87.4  1.1 1522072 46324 pts/2   Sl+  23:26   4:50 ./s_go 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 9112     562815.68  1786.69   110357.29  1.25   334.75  32.32   35.44   10.64  19.24  40.38   80.03   162.92  316.05  61.77  5.10  0      0      0      0      0      69   
1     13912    857795.75  692.15    42677.04   1.21   7.70    1.34    0.18    1.28   1.30   1.34    1.43    2.13    6.26    61.66  20.10 0      0      0      0      0      75   
5     34352    2118090.84 1710.22   105449.81  1.06   19.50   2.30    1.57    1.28   1.65   2.80    4.40    8.37    14.87   61.66  20.09 0      0      0      0      0      68   
10    36822    2270433.02 1835.04   113147.85  1.09   94.69   5.63    7.60    1.79   2.38   6.42    13.99   39.00   79.67   61.66  20.07 0      0      0      0      0      72   
50    36795    2269519.69 1831.18   112947.15  1.19   412.37  33.53   40.55   6.40   19.74  45.43   87.08   185.49  372.89  61.68  20.09 0      0      0      0      0      66   
100   36636    2261242.86 1822.74   112503.03  1.47   505.77  59.22   61.23   19.64  28.61  79.50   109.02  320.67  475.92  61.72  20.10 0      0      0      0      0      55   
200   32094    1985360.95 1598.08   98858.40   5.41   1123.92 133.81  117.42  30.87  125.88 237.79  274.88  496.33  983.90  61.86  20.08 0      0      0      0      0      53   
500   27507    1707475.09 1371.76   85150.73   27.72  1997.97 358.50  292.37  137.04 281.13 470.27  722.58  1462.52 1990.93 62.07  20.05 0      0      0      270    0      60   
800   26707    1665727.95 1329.33   82911.15   40.59  1999.68 431.83  355.58  159.90 321.71 592.47  936.26  1693.64 1998.54 62.37  20.09 0      0      0      991    0      63   
1000  25693    1608420.73 1279.67   80108.98   60.39  1999.67 484.56  377.97  221.44 363.38 635.50  1055.30 1799.11 1998.92 62.60  20.08 0      0      0      1459   0      64   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====


Results for single connections
==============================


lua-t
-----

Memory consumption:

.. code::

  [alarm@pi64-master http]$ ps aux | grep s_t
  USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
  alarm       2872 41.8  0.1   6956  4444 pts/2    S+   23:35   2:12 ../out/bin/lua s_t.lua 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 6614     408329.56  1297.06   80076.69   6.86   142.96  31.07   15.33   21.73  26.85  37.15   50.38   89.01   142.96  61.74  5.10  0      0      0      0      0      62   
1     5323     328048.18  266.09    16398.90   2.43   4.52    3.15    0.26    3.01   3.13   3.31    3.51    3.72    4.52    61.63  20.00 0      0      0      0      0      52   
5     17688    1090018.34 883.92    54471.32   2.48   6.35    3.80    0.63    3.38   3.71   4.20    4.66    5.52    6.34    61.62  20.01 0      0      0      0      0      55   
10    22753    1402181.51 1133.97   69882.21   2.42   19.06   5.90    2.03    4.61   5.20   6.59    9.65    10.81   14.96   61.63  20.06 0      0      0      0      0      66   
50    25940    1599388.94 1292.16   79671.31   8.02   144.93  31.21   15.43   21.80  27.04  37.28   49.95   89.43   136.36  61.66  20.07 0      0      0      0      0      62   
100   24040    1483520.18 1196.06   73809.64   7.94   882.29  82.23   66.25   38.95  71.40  110.33  156.96  333.07  798.54  61.71  20.10 0      0      0      0      0      57   
200   22260    1376801.98 1108.30   68549.68   9.21   1428.23 182.16  156.16  79.11  164.29 247.93  373.92  705.24  1308.30 61.85  20.08 0      0      0      0      0      55   
500   19466    1212689.78 970.43    60455.74   10.42  1986.70 457.99  314.92  351.18 419.19 633.80  862.22  1370.69 1935.54 62.30  20.06 0      0      0      14     0      58   
800   17883    1122901.40 890.04    55887.16   11.20  1997.56 716.02  482.30  568.79 700.35 1019.96 1349.21 1852.34 1996.09 62.79  20.09 0      0      0      395    0      51   
1000  17119    1078255.15 851.78    53650.23   11.76  1999.37 839.26  573.56  567.14 902.75 1262.20 1593.51 1945.88 1998.85 62.99  20.10 0      0      0      1275   0      46   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====


node-js
-------

Memory consumption:

.. code::

  [alarm@pi64-master http]$ ps aux | grep s_node
  USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
  alarm       2890 49.3  2.2 626764 87176 pts/2    Sl+  23:41   2:48 node s_node.js 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 1248     76900.69   248.87    15335.31   45.38  237.54  67.66   29.67   55.28  57.36  67.65   88.64   219.42  237.54  61.62  5.01  0      0      0      0      0      75   
1     5180     319187.15  258.92    15954.62   2.59   14.42   3.23    0.49    3.08   3.17   3.30    3.45    4.52    14.42   61.62  20.01 0      0      0      0      0      61   
5     14710    906438.77  735.11    45297.98   2.50   14.48   4.74    1.18    3.81   5.04   5.71    6.09    7.02    10.77   61.62  20.01 0      0      0      0      0      47   
10    22554    1389944.75 1125.44   69357.72   2.70   22.52   5.93    1.60    5.19   5.70   6.35    7.14    12.66   21.65   61.63  20.04 0      0      0      0      0      59   
50    25417    1566681.35 1266.03   78036.89   2.96   248.37  33.63   19.19   25.99  28.26  33.37   40.57   129.30  243.44  61.64  20.08 0      0      0      0      0      76   
100   23698    1460674.61 1178.93   72665.65   2.68   408.43  70.32   34.30   56.58  61.08  72.03   96.98   231.78  392.65  61.64  20.10 0      0      0      0      0      72   
200   14485    893318.26  716.27    44173.67   3.25   639.65  184.37  92.26   153.42 171.90 226.08  296.48  502.64  632.74  61.67  20.22 0      0      0      0      0      61   
500   14730    908437.57  722.58    44563.46   4.69   1768.27 476.49  219.91  441.89 472.16 563.07  708.62  1284.00 1750.39 61.67  20.39 0      0      0      0      0      53   
800   14687    905451.40  705.95    43521.80   5.69   1997.36 702.83  335.49  576.26 757.86 810.67  1097.13 1722.02 1996.58 61.65  20.80 0      0      0      150    0      36   
1000  15448    952063.59  734.47    45265.63   3.75   1997.17 860.58  356.68  788.99 957.38 992.57  1279.86 1666.67 1996.59 61.63  21.03 0      0      0      395    0      33   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====


go
--

Memory consumption:

.. code::

  [alarm@pi64-master http]$ ps aux | grep s_go
  USER         PID %CPU %MEM     VSZ   RSS TTY     STAT START   TIME COMMAND
  alarm       2985 59.7  1.0 1522072 42364 pts/2   Sl+  23:47   3:20 ./s_go 10000

Benchmark results:

===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
conns requests kBytes     requests  kBytes     latncy latency latency latency latncy latncy latency latency latency latency kBytes time  error  error  error  error  error  perc 
      total    total      second    second     min    max     average stddev  30%    50%    75%     90%     99%     99.99%  req    total conns  reads  writes timeou status averg
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====
50(c) 6229     385002.63  1242.96   76825.24   7.67   110.88  33.91   9.97    29.88  33.90  38.55   43.76   66.61   110.88  61.81  5.01  0      0      0      0      0      50   
1     5683     350509.01  284.13    17524.50   2.36   147.96  3.43    7.22    2.80   2.88   2.98    3.09    3.96    147.96  61.68  20.00 0      0      0      0      0      96   
5     19246    1187094.03 961.26    59290.76   2.32   13.86   3.52    0.47    3.25   3.46   3.77    4.09    4.93    13.42   61.68  20.02 0      0      0      0      0      55   
10    24465    1509003.86 1217.78   75112.52   2.55   25.63   5.39    1.41    4.56   5.08   6.02    7.29    10.04   18.95   61.68  20.09 0      0      0      0      0      60   
50    24844    1533081.89 1240.45   76546.00   7.09   178.72  33.96   9.75    30.12  33.84  38.23   42.86   70.59   144.93  61.71  20.03 0      0      0      0      0      50   
100   24277    1500205.21 1212.09   74901.54   8.47   891.52  81.75   61.65   42.40  71.11  109.64  149.06  306.76  726.00  61.80  20.03 0      0      0      0      0      56   
200   22856    1415240.59 1137.67   70444.36   8.96   1430.00 174.15  145.27  90.48  156.46 224.38  347.07  680.64  1335.27 61.92  20.09 0      0      0      0      0      55   
500   20128    1255167.24 1001.66   62462.51   8.87   1994.27 437.04  308.12  332.55 395.57 609.49  827.99  1330.30 1951.68 62.36  20.09 0      0      0      24     0      58   
800   18449    1159289.86 917.86    57676.34   10.00  1996.82 688.56  469.56  534.52 678.48 984.15  1302.14 1830.65 1996.39 62.84  20.10 0      0      0      359    0      50   
1000  17734    1118482.05 883.98    55752.81   10.41  1999.63 794.47  545.67  603.08 829.96 1177.04 1524.42 1920.09 1998.66 63.07  20.06 0      0      0      993    0      48   
===== ======== ========== ========= ========== ====== ======= ======= ======= ====== ====== ======= ======= ======= ======= ====== ===== ====== ====== ====== ====== ====== =====

